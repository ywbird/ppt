<link rel="stylesheet" type="text/css" href="/dist/jsxgraph.css">
<script type="text/javascript" src="/dist/jsxgraph.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script" async></script>
<style type="text/css">
  body,
  html {
    /* background: oklch(23.64% 0.0045 248); */
    background: none transparent;
    margin: 0;
    border: none;
    /* background-color: #000000 !important; */
  }

  #box {
    border-radius: 0;
    border: none;

  }
</style>

<div id="box" class="jxgbox"></div>

<script type="text/javascript">
  const box = document.getElementById("box");

  const width = 700;
  const height = 300;
  box.style.width = `${width}px`;
  box.style.height = `${height}px`;
  box.style.border = `none`;

  let board = JXG.JSXGraph.initBoard(
    'box',
    {
      boundingbox: [-3.5, 1.5, 3.5, -1.5],
      axis: true,
      showCopyright: false,
      showNavigation: false
    });

  const PI = Math.PI

  const f = (x) => (Math.cos(2 * x * PI) + Math.cos(x * PI + 2)) / 2

  let curve = board.create('functiongraph', [(x) => f(x),
  -PI, PI
  ], {strokeWidth: 3});

	// let list = middleRiemannList(-3, 3, 0.01, f(2))
	// 	.map(p => board.create('point', p, {name: "", size: 0, fixed: true}))
	//
	// let chain = board.create('polygonalchain', list, {strokeColor: 'blue'});
	//
	// /**
	// 	* @param min number
	// 	* @param max number
	// 	* @param spacing number
	// 	* @param func (number) => []number
	// 	* @return []number
	// 	*/
	// function middleRiemannList(min, max, spacing, func) {
	// 	let result = []
	// 	for (let i = min; i < max; i += spacing) {
	// 		const r = func(i + spacing / 2)
	// 		result.push(r)
	// 	}
	// 	return result
	// }
	//
	// const riemannSum = (l) => l.reduce((p, c) => [p[0] + c[0], p[0] + c[0]], [0, 0])
	//
	// function X(xi) {
	// 	return middleRiemannSum(-1000, 1000, 0.1, (x) => [
	// 		f(x) * Math.cos(-2 * Math.Pi * xi * x),
	// 		f(x) * Math.sin(-2 * Math.Pi * xi * x)
	// 	])
	// }
</script>
